{"mappings":"iiBAAAA,EAAA,S,2FAiBAC,E,YAAIC,OAEJ,IAAQC,EAAqCC,EAAAC,KAArCC,WAAYC,EAAyBH,EAAAC,KAAzBG,WAAYC,EAAaL,EAAAC,KAAbK,SAC1BC,EAAOC,aAAaC,QAAQ,QAElC,SAASC,IACPX,EAAWY,UAAY,GACvB,IAAMC,EAAWC,SAASC,cAAc,UAQxC,OAPAF,EAASG,UAAUC,IAAI,aAErBJ,EAASD,UADPJ,EACoB,oFAEA,2CAGjBR,EAAWkB,OAAOL,E,CAG3B,SAASM,IACP,IAAI,EAAAC,EAAAC,4BACFV,QACK,EACL,EAAAW,EAAAC,aACAvB,EAAWY,UAAY,GACvB,IAAMY,EAAWC,KAAKC,MAAMjB,aAAaC,QAAQ,kBACjDiB,YAAW,W,IACJC,GAAO,EAAPC,GAAO,EAAPC,OAAOC,E,IAAZ,QAAKC,EAAAC,EAAWT,EAAQU,OAAAC,cAAnBP,GAAAI,EAAAC,EAAOG,QAAAC,MAAPT,GAAO,EAAc,CAArB,IAAIU,EAAJN,EAAOO,OACV,EAAAC,EAAAC,kBAAiBH,IACjB,EAAAI,EAAAC,mB,WAFGd,GAAO,EAAPC,EAAOc,C,aAAPhB,GAAO,MAAPK,EAAOY,QAAPZ,EAAOY,Q,YAAPhB,E,MAAAC,C,GAIL,EAAAR,EAAAwB,a,GACC,I,EAgCP3B,IAEAf,EAAW2C,iBAAiB,SA9B5B,WACE3C,EAAWY,UAAUC,IAAI,WACzBX,EAASU,UAAUgC,OAAO,WAE1B7B,G,IA2BFb,EAASyC,iBAAiB,SAxB1B,WAIE,GAHA3C,EAAWY,UAAUgC,OAAO,WAC5B1C,EAASU,UAAUC,IAAI,YAEnB,EAAAG,EAAA6B,4BACFtC,QACK,EACL,EAAAW,EAAAC,aACAvB,EAAWY,UAAY,GACvB,IAAMsC,EAAWzB,KAAKC,MAAMjB,aAAaC,QAAQ,kBAEjDiB,YAAW,W,IACJC,GAAO,EAAPC,GAAO,EAAPC,OAAOC,E,IAAZ,QAAKC,EAAAC,EAAWiB,EAAQhB,OAAAC,cAAnBP,GAAAI,EAAAC,EAAOG,QAAAC,MAAPT,GAAO,EAAc,CAArB,IAAIU,EAAJN,EAAOO,OACV,EAAAC,EAAAC,kBAAiBH,IACjB,EAAAI,EAAAC,mB,WAFGd,GAAO,EAAPC,EAAOc,C,aAAPhB,GAAO,MAAPK,EAAOY,QAAPZ,EAAOY,Q,YAAPhB,E,MAAAC,C,GAIL,EAAAR,EAAAwB,a,GACC,I","sources":["src/library.js"],"sourcesContent":["import './js/current_link';\nimport { refs } from './js/reference';\nimport {\n  checkLocalStorageOnwatch,\n  checkLocalStorageOnQueue,\n} from './js/localStorageApi';\nimport { loadingOn, loadingOff } from './js/loading';\nimport { renderCollection } from './js/templates/movieTemplate';\nimport { addEfectRenderer } from './js/effect_for_cart';\n\n// відкриття модалки в бібліотеці\nimport './js/film-modal';\nimport './js/profile';\n\n// import { openTeamModal, closeTeamModal } from './js/team-modal';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nAOS.init();\n\nconst { moviesList, watchedBtn, queueBtn } = refs;\nconst user = localStorage.getItem('user');\n// ==============render info page================\nfunction renderInfoPage() {\n  moviesList.innerHTML = '';\n  const infoPage = document.createElement('strong');\n  infoPage.classList.add('info-text');\n  if (user) {\n    infoPage.innerHTML = `No movies selected <a class=\"info-text__link\" href=\"./index.html\">Add a movie</a>`;\n  } else {\n    infoPage.innerHTML = `To add a movie to the library, authorize`;\n  }\n\n  return moviesList.append(infoPage);\n}\n\nfunction renderPage() {\n  if (checkLocalStorageOnwatch()) {\n    renderInfoPage();\n  } else {\n    loadingOn();\n    moviesList.innerHTML = '';\n    const watchObj = JSON.parse(localStorage.getItem('watchedMovies'));\n    setTimeout(() => {\n      for (let obj of watchObj) {\n        renderCollection(obj);\n        addEfectRenderer();\n      }\n      loadingOff();\n    }, 500);\n  }\n}\n\nfunction clickOnWatchedBtn() {\n  watchedBtn.classList.add('current');\n  queueBtn.classList.remove('current');\n\n  renderPage();\n}\n\nfunction clickOnQueueBtn() {\n  watchedBtn.classList.remove('current');\n  queueBtn.classList.add('current');\n\n  if (checkLocalStorageOnQueue()) {\n    renderInfoPage();\n  } else {\n    loadingOn();\n    moviesList.innerHTML = '';\n    const queueObj = JSON.parse(localStorage.getItem('moviesInQueue'));\n\n    setTimeout(() => {\n      for (let obj of queueObj) {\n        renderCollection(obj);\n        addEfectRenderer();\n      }\n      loadingOff();\n    }, 300);\n  }\n}\n\nrenderPage();\n\nwatchedBtn.addEventListener('click', clickOnWatchedBtn);\nqueueBtn.addEventListener('click', clickOnQueueBtn);\n"],"names":["parcelRequire","$parcel$interopDefault","init","$cecbdd76f2d3d4bd$var$moviesList","$lwjaU","refs","moviesList","$cecbdd76f2d3d4bd$var$watchedBtn","watchedBtn","$cecbdd76f2d3d4bd$var$queueBtn","queueBtn","$cecbdd76f2d3d4bd$var$user","localStorage","getItem","$cecbdd76f2d3d4bd$var$renderInfoPage","innerHTML","infoPage","document","createElement","classList","add","append","$cecbdd76f2d3d4bd$var$renderPage","$kuRFM","checkLocalStorageOnwatch","$9OvHE","loadingOn","watchObj","JSON","parse","setTimeout","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","Symbol","iterator","next","done","obj","value","$fKpV3","renderCollection","$iTZ8c","addEfectRenderer","err","return","loadingOff","addEventListener","remove","checkLocalStorageOnQueue","queueObj"],"version":3,"file":"library.77e74730.js.map"}