{"mappings":"qhBAAAA,EAAA,S,2FAiBAC,E,YAAIC,OAEJ,MAAMC,WAAEC,EAAUC,WAAEC,EAAUC,SAAEC,GAAaC,EAAAC,KACvCC,EAAOC,aAAaC,QAAQ,QAElC,SAASC,IACPV,EAAWW,UAAY,GACvB,MAAMC,EAAWC,SAASC,cAAc,UAQxC,OAPAF,EAASG,UAAUC,IAAI,aAErBJ,EAASD,UADPJ,EACmB,oFAEA,2CAGhBP,EAAWiB,OAAOL,E,CAG3B,SAASM,IACP,IAAI,EAAAC,EAAAC,4BACFV,QACK,EACL,EAAAW,EAAAC,aACAtB,EAAWW,UAAY,GACvB,MAAMY,EAAWC,KAAKC,MAAMjB,aAAaC,QAAQ,kBACjDiB,YAAW,KACT,IAAK,IAAIC,KAAOJ,GACd,EAAAK,EAAAC,kBAAiBF,IACjB,EAAAG,EAAAC,qBAEF,EAAAV,EAAAW,aAAY,GACX,I,EAgCPd,IAEAhB,EAAW+B,iBAAiB,SA9B5B,WACE/B,EAAWa,UAAUC,IAAI,WACzBZ,EAASW,UAAUmB,OAAO,WAE1BhB,G,IA2BFd,EAAS6B,iBAAiB,SAxB1B,WAIE,GAHA/B,EAAWa,UAAUmB,OAAO,WAC5B9B,EAASW,UAAUC,IAAI,YAEnB,EAAAG,EAAAgB,4BACFzB,QACK,EACL,EAAAW,EAAAC,aACAtB,EAAWW,UAAY,GACvB,MAAMyB,EAAWZ,KAAKC,MAAMjB,aAAaC,QAAQ,kBAEjDiB,YAAW,KACT,IAAK,IAAIC,KAAOS,GACd,EAAAR,EAAAC,kBAAiBF,IACjB,EAAAG,EAAAC,qBAEF,EAAAV,EAAAW,aAAY,GACX,I","sources":["src/library.js"],"sourcesContent":["import './js/current_link';\nimport { refs } from './js/reference';\nimport {\n  checkLocalStorageOnwatch,\n  checkLocalStorageOnQueue,\n} from './js/localStorageApi';\nimport { loadingOn, loadingOff } from './js/loading';\nimport { renderCollection } from './js/templates/movieTemplate';\nimport { addEfectRenderer } from './js/effect_for_cart';\n\n// відкриття модалки в бібліотеці\nimport './js/film-modal';\nimport './js/profile';\n\n// import { openTeamModal, closeTeamModal } from './js/team-modal';\nimport AOS from 'aos';\nimport 'aos/dist/aos.css';\nAOS.init();\n\nconst { moviesList, watchedBtn, queueBtn } = refs;\nconst user = localStorage.getItem('user');\n// ==============render info page================\nfunction renderInfoPage() {\n  moviesList.innerHTML = '';\n  const infoPage = document.createElement('strong');\n  infoPage.classList.add('info-text');\n  if (user) {\n    infoPage.innerHTML = `No movies selected <a class=\"info-text__link\" href=\"./index.html\">Add a movie</a>`;\n  } else {\n    infoPage.innerHTML = `To add a movie to the library, authorize`;\n  }\n\n  return moviesList.append(infoPage);\n}\n\nfunction renderPage() {\n  if (checkLocalStorageOnwatch()) {\n    renderInfoPage();\n  } else {\n    loadingOn();\n    moviesList.innerHTML = '';\n    const watchObj = JSON.parse(localStorage.getItem('watchedMovies'));\n    setTimeout(() => {\n      for (let obj of watchObj) {\n        renderCollection(obj);\n        addEfectRenderer();\n      }\n      loadingOff();\n    }, 500);\n  }\n}\n\nfunction clickOnWatchedBtn() {\n  watchedBtn.classList.add('current');\n  queueBtn.classList.remove('current');\n\n  renderPage();\n}\n\nfunction clickOnQueueBtn() {\n  watchedBtn.classList.remove('current');\n  queueBtn.classList.add('current');\n\n  if (checkLocalStorageOnQueue()) {\n    renderInfoPage();\n  } else {\n    loadingOn();\n    moviesList.innerHTML = '';\n    const queueObj = JSON.parse(localStorage.getItem('moviesInQueue'));\n\n    setTimeout(() => {\n      for (let obj of queueObj) {\n        renderCollection(obj);\n        addEfectRenderer();\n      }\n      loadingOff();\n    }, 300);\n  }\n}\n\nrenderPage();\n\nwatchedBtn.addEventListener('click', clickOnWatchedBtn);\nqueueBtn.addEventListener('click', clickOnQueueBtn);\n"],"names":["parcelRequire","$parcel$interopDefault","init","moviesList","$ce3726a01b8ab25a$var$moviesList","watchedBtn","$ce3726a01b8ab25a$var$watchedBtn","queueBtn","$ce3726a01b8ab25a$var$queueBtn","$dY0f7","refs","$ce3726a01b8ab25a$var$user","localStorage","getItem","$ce3726a01b8ab25a$var$renderInfoPage","innerHTML","infoPage","document","createElement","classList","add","append","$ce3726a01b8ab25a$var$renderPage","$4ncHU","checkLocalStorageOnwatch","$2iIDe","loadingOn","watchObj","JSON","parse","setTimeout","obj","$li1iC","renderCollection","$dLiSR","addEfectRenderer","loadingOff","addEventListener","remove","checkLocalStorageOnQueue","queueObj"],"version":3,"file":"library.4cc7c259.js.map"}